<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/odometer.js/0.4.8/themes/odometer-theme-default.css" rel="stylesheet" />
    <style>
        /* @keyframes example {
            0% {
                -webkit-transform: scale(1) translate(0, 0);
            }
            50% {
                -webkit-transform: scale(1.05) translate(-2.6%, -4%);
            }
            100% {
                -webkit-transform: scale(1) translate(0, 0);
            }
        } */
        /* The element to apply the animation to */
        /* #wave-group {
            will-change: transform;
            animation-name: example;
            animation-duration: 2s;
            animation-iteration-count: infinite;
        } */
        
        .circle-red {
            fill: #FF5144;
        }
        
        .circle-orange {
            fill: #FF6B44;
        }
        
        .circle-gold {
            fill: #EB9D44;
        }
        
        .circle-yellow {
            fill: #FFD044
        }
        
        .circle-khaki {
            fill: #97884E
        }
        
        .text {
            fill: #FFF;
            font-family: 'Montserrat', sans-serif;
            text-anchor: middle;
        }
        
        .text-rect {
            fill: #1E1C28
        }
        
        .text-header-top {
            font-size: 4vh;
        }
        
        .text-header-bottom {
            font-size: 3vh;
        }
        
        .text-body-top {
            font-size: 3vh;
            font-weight: bolder;
        }
        
        .text-body-center {
            font-size: 15vh;
            color: #FFF;
        }
        
        .text-body-bottom {
            font-size: 3vh;
        }
        
        .text-footer-top {
            font-size: 8vh;
            text-anchor: start;
        }
        
        .text-footer-bottom {
            fill: #BCBBBF;
            font-size: 2.3vh;
        }
        
        .grad-main-start {
            stop-color: #454353;
            stop-opacity: 1;
        }
        
        .grad-main-stop {
            stop-color: #252333;
            stop-opacity: 1;
        }
    </style>
</head>

<body>
    <svg id="screen" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" height="100vh" width="56.25vh">
        <defs>
            <radialGradient id="grad-main" cx="50%" cy="50%" fx="50%" fy="50%" r="50%">
                <stop offset="0%" class="grad-main-start" />
                <stop offset="100%" class="grad-main-stop" />
            </radialGradient>
        </defs>
        <!--STATIC SVG ITEMS BEGIN-->
        <!--background-->
        <rect class="screen-rect" x="0" y="0" width="100%" height="100%" fill="url(#grad-main)" />
        <!--time-->
        <text id="time" x="50%" y="5%" alignment-baseline="middle" class="text text-header-top">10:30 AM</text>
        <!--date-->
        <text x="50%" y="10%" alignment-baseline="middle" class="text text-header-bottom">Wednesday, June 25</text>
        <!--upstairs block-->
        <circle cx="50%" cy="44%" r="20%" class="circle-red" onclick="alert('hello');" />
        <text x="50%" y="34%" alignment-baseline="middle" class="text text-body-top">Upstairs</text>
            <!--<text id="upstairs-temperature" x="50%" y="46%" alignment-baseline="middle" class="text text-body-center">23</text>-->
        <foreignObject x="34%" y="36%" width="35%" height="15%"  alignment-baseline="middle">
            <div id="upstairs-temperature" xmlns="http://www.w3.org/1999/xhtml" class="text text-body-center odometer">
                23
            </div>
        </foreignObject> 
        <text id="upstairs-humidity" x="50%" y="55%" alignment-baseline="middle" class="text text-body-bottom">52%</text>
        <!--wave group-->
        <g id="wave-group" ></g>
        <!--outside block-->
        <text id="outside-temperature" x="5.5%" y="85%" alignment-baseline="auto" class="text text-footer-top">24</text>
        <image x="23%" y="75%" width="15%" height="15%" xlink:href="data:image/png;base64,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"></image>
        <!--message-->
        <rect class="text-rect" x="5.5%" y="88.5%" rx="10" ry="10" width="89%" height="7%" />
        <text id="message" x="50%" y="92%" alignment-baseline="middle" class="text text-footer-bottom">Your order will arrive today at 3 PM.</text>
        <!--STATIC SVG ITEMS END-->
    </svg>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.5.0/velocity.min.js"></script> -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pablo/0.4.0/pablo.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/odometer.js/0.4.8/odometer.min.js"></script>
    <script type="text/javascript">
        const RESOLUTION = 900 / 1600;
        var markup = null;
        var getMarkup = function(width, height) {
            var markup = {};
            markup.width = RESOLUTION * height;
            markup.height = height;
            markup.circleX = 50; //[%]
            markup.circleY = 44 / RESOLUTION; //[%]
            markup.circleR = 20; //[%]
            //
            return markup;
        }

        var drawWave = function(waveID, length, deltaRadius, radius, style) {
            for (var i = 0; i < length; i++) {
                var R = markup.circleR + deltaRadius;
                var angle = 2 * Math.PI / length * i;
                var x = markup.circleX + Math.cos(angle) * R;
                var y = markup.circleY + Math.sin(angle) * R;
                y *= RESOLUTION;
                var ID = 'circle-' + waveID + '-' + i;
                var circle = Pablo.circle({
                    id: ID,
                    cx: x + '%',
                    cy: y + '%',
                    r: radius + '%',
                    class: style
                }).appendTo('#wave-group');
            }
        }

        var Change = 1;
        var MaxTemp = 27;
        var MinTemp = 22;
        var Current = 23;
        var animateUpstairs = function() {
            setInterval(function() {
                Current += Change;
                if (Current > MaxTemp) {
                    Change = -1;
                } else if (Current < MinTemp) {
                    Change = 1;
                }
                $('#upstairs-temperature').text(Current);
            }, 5000);
        }

        $(document).ready(function() {
            //setting markup
            var $screen = $('#screen');
            var width = $screen.width();
            console.log(width);
            var height = $screen.height();
            console.log(height);
            markup = getMarkup(width, height);
            //draw waves
            drawWave(1, 75, 11, 0.55, 'circle-red');
            drawWave(2, 80, 13, 0.55, 'circle-red');
            drawWave(3, 85, 15, 0.5, 'circle-orange');
            drawWave(4, 95, 17, 0.5, 'circle-orange');
            drawWave(5, 102, 19, 0.45, 'circle-gold');
            drawWave(6, 110, 21, 0.45, 'circle-gold');
            drawWave(7, 120, 23, 0.4, 'circle-yellow');
            drawWave(8, 132, 25, 0.4, 'circle-khaki');
            animateUpstairs();
            //
            var scale = 1.05;
            // $('#wave-group').velocity({ translateX: '-3%', translateY: '-4%', scale: '105%', }, { loop: true, delay: 50, duration: 1000 });
            var tl = new TimelineMax({
                repeat: -1,
                // onComplete: onRepeat
            });
            var elem = $('#wave-group');
            tl.to(elem, 1, {
                    scale: 1.05,
                    x: '-2.5%',
                    y: '-2.5%',
                    ease: Linear.easeIn,
                })
                .to(elem, 1, {
                    scale: 1,
                    x: '0%',
                    y: '0%',
                    ease: Linear.easeIn,

                });

            function onRepeat() {
                tl.invalidate().restart()
            }

        })
    </script>
</body>

</html>